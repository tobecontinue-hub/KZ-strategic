{% extends "base.html" %}
{% block content %}
<style>
  .cp-grid { display: grid; grid-template-columns: repeat(12, 1fr); gap: 18px; }
  .cp-card {
    grid-column: span 12;
    background: #fff; border-radius: 16px; overflow: hidden;
    box-shadow: 0 10px 24px rgba(0,0,0,0.06);
    transition: transform .22s ease, box-shadow .22s ease; opacity: 0;
    animation: cp-in .45s ease-out forwards;
  }
  .cp-card:hover { transform: translateY(-4px); box-shadow: 0 18px 40px rgba(0,0,0,0.12); }
  @keyframes cp-in { from { opacity:0; transform: translateY(10px);} to { opacity:1; transform:none; } }

  .cp-head { display:flex; align-items:center; gap:10px; padding:14px 18px; background: #f1f5ff; }
  .cp-title { margin:0; font-size:1.05rem; font-weight:800; color:#073047; }
  .cp-icon { width: 20px; height:20px; color:#0b63ff; }

  .cp-body { padding: 14px 18px; display:grid; grid-template-columns: repeat(12, 1fr); gap:12px; }
  .cp-col { grid-column: span 12; background:#f8fafc; border-radius: 12px; padding:12px; border-left:4px solid #dbeafe; }
  .cp-col h6 { margin:0 0 6px; font-weight:800; color:#0b63ff; font-size: .95rem; }
  .cp-col p { margin:0; color:#475569; font-size:.95rem; line-height:1.55; white-space: pre-line; }

  @media (min-width: 768px) {
    .cp-card { grid-column: span 12; }
    .cp-col { grid-column: span 4; }
    .cp-col--wide { grid-column: span 12; }
  }
</style>

<div class="main-container">


  {% if rows %}
    <div class="cp-grid">
      {% for r in rows %}
        <div class="cp-card" style="animation-delay: {{ (loop.index0 % 8) * 0.05 }}s;">
          <div class="cp-head">
            <svg class="cp-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
            <h5 class="cp-title">{{ r["Cost per X"] }}</h5>
          </div>
          <div class="cp-body">
            <div class="cp-col cp-col--facts">
              <h6>Facts</h6>
              <p>{{ r["Facts"] }}</p>
            </div>
            <div class="cp-col cp-col--why">
              <h6>Why?</h6>
              <p>{{ r["Why?"] }}</p>
            </div>
            <div class="cp-col cp-col--improve">
              <h6>What to Improve More?</h6>
              <p>{{ r["What to Improve More?"] }}</p>
            </div>
          </div>
        </div>
      {% endfor %}
    </div>
  {% else %}
    <div class="alert alert-warning">No data found for "Cost per X".</div>
  {% endif %}
</div>
{% endblock %}