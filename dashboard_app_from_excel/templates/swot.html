<!-- templates/swot.html -->
{% extends "base.html" %}
{% block content %}

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">

<style>
body {
  background: #f4f7fb;
}
.swot-shell {
  max-width: 1200px;
  margin: 0 auto;
  padding: 24px;
}
.swot-shell h1 {
  text-align: center;
  font-weight: 900;
  color: #073047;
}
.swot-table-card {
  margin-top: 20px;
  background: #fff;
  border-radius: 18px;
  box-shadow: 0 24px 60px rgba(15,23,42,.08);
  overflow: hidden;
}
.swot-table {
  width: 100%;
  border-collapse: collapse;
}
.swot-table thead {
  background: linear-gradient(120deg,#4e73df,#1cc88a);
  color: #fff;
}
.swot-table th,
.swot-table td {
  padding: 14px 16px;
  border-bottom: 1px solid #eef2f7;
  vertical-align: top;
}
.swot-table tbody tr {
  animation: fadeIn .4s ease;
}
.swot-table tbody tr:nth-child(odd) { background: #f8faff; }
.category-badge {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 6px 10px;
  border-radius: 999px;
  font-weight: 600;
  color: #055160;
  background: #cff4fc;
}
.key-insight-card {
  margin-top: 24px;
  padding: 20px;
  border-radius: 16px;
  background: linear-gradient(120deg,#6366f1,#8b5cf6);
  color: #fff;
  box-shadow: 0 24px 60px rgba(99,102,241,.35);
}
.key-insight-card h2 {
  font-weight: 800;
}
@keyframes fadeIn {
  from { opacity: 0; transform: translateY(8px); }
  to { opacity: 1; transform: translateY(0); }
}
</style>

<div class="swot-shell">
  <h1>SWOT Analysis</h1>
  <p class="text-center text-muted">Multi-year strategic overview</p>

  <div class="swot-table-card">
    <table class="swot-table">
      <thead>
        <tr>
          <th>Category</th>
          <th>Point ID</th>
          <th>Key Item</th>
          <th>2025 Insight</th>
          <th>2026 Strategy</th>
        </tr>
      </thead>
      <tbody>
        {% for row in rows %}
        <tr>
          <td>
            <span class="category-badge">
              <i class="bi bi-grid"></i> {{ row['Category'] or 'N/A' }}
            </span>
          </td>
          <td>{{ row['Point_ID'] or 'â€”' }}</td>
          <td>{{ row['Key_Item'] or 'Untitled Item' }}</td>
          <td>{{ row['2025'] or 'N/A' }}</td>
          <td>{{ row['2026'] or 'N/A' }}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>

  {% if key_insights %}
  <div class="key-insight-card">
    <h2><i class="bi bi-lightbulb"></i> Key Insights</h2>
    <ul>
      {% for insight in key_insights %}
      <li><strong>{{ insight['Point_ID'] or insight['Key_Item'] }}:</strong> {{ insight['2025'] or insight['2026'] }}</li>
      {% endfor %}
    </ul>
  </div>
  {% endif %}
</div>

{% endblock %}
